@tailwind base;
@tailwind components;
@tailwind utilities;


@layer utilities {

  .text-balance {
    text-wrap: balance;
  }

  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.21);
  }

}

@layer components {

  .fullwidth-background {
    z-index: -3;
    @apply fixed h-screen w-screen bg-cover bg-center bg-no-repeat bg-fixed bg-opacity-50;
  }
  
  .dark-overlay {
    z-index: -1;
    opacity: 0.25;
    background: #010c14;
    @apply absolute inset-0;
    &:after {
      z-index: -1;
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200vw;
      height: 200vw;
      background: radial-gradient(circle, #e3fefc 30%, transparent 70%);
      border-radius: 50%;
      animation: rise 2s ease-out forwards;
    }
  }

  @keyframes rise {
    from {
      transform: translateX(-50%) translateY(100%);
    }
    to {
      transform: translateX(-50%) translateY(75%);
    }
  }

  .clock {
    @apply bg-transparent text-white text-shadow;
  }
  

  #calendar {
    color: var(--foreground);
    @apply bg-transparent font-normal font-light text-sm;
  
    th,
    tr {
      @apply font-light uppercase text-shadow;
      letter-spacing: 0.09rem;
    }
  
    tr {
      th {
        @apply p-2.5 pt-4 text-center;
      }
      td {
        @apply text-center font-light p-2.5 border-t border-white border-opacity-40 text-shadow;
      }
  
      &:last-child {
        td {
          @apply border-b-0;
        }
      }
    }
  }
}

/* MAIN CSS */
:root {
  --background: #2c2c54;
  --foreground: #e3fefc ;
  --brightWhite: #e7efeecc;
  --fadedWhite: #e7efee;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: 'Montserrat', sans-serif;
  @apply w-screen h-screen bg-transparent m-0 p-0 relative z-0;
}

.header {
   @apply w-full block text-white z-0 p-0 m-0;

   .topbar {
      @apply w-full flex flex-row flex-wrap justify-between items-center text-white p-2;

      .left-menu {
        @apply flex flex-row flex-wrap justify-between items-center gap-3;
      }

      .right-menu {
        
        #login-form {
          @apply flex flex-row flex-wrap justify-between items-center gap-3;

          &.logged-out {
            @apply border border-white p-0;
           } 

          input {
            @apply bg-transparent text-white border-l border-white p-2 text-sm;

            &::placeholder {
              @apply text-white opacity-80 font-light italic;
            }
          }

          .login {
            @apply bg-transparent text-white border-l border-white p-2 font-light bg-white bg-opacity-20 uppercase text-sm;
          }

          .logout {
            @apply border-l-0;
          }
        }
      }
    }

  #calendar {
    @apply relative float-right mt-10 mb-10 mr-10;
    
    svg {
      @apply font-light text-white border border-white border-opacity-40 rounded-full p-0.5;

      &:nth-child(1) {
        @apply absolute left-2;
      }

      &:nth-child(2) {
        @apply absolute right-2;
      }
    }

    tr {
      td {
        @apply m-7;
      }
    }

    .month-name {
      @apply text-base;
    }
    
    .current-day {
      span {
        @apply bg-white bg-opacity-20 p-2;
      }
    }
  }
}

.main {
  z-index: 0;
  @apply absolute top-0 left-0 h-screen w-screen;

  .post-list {

      @apply mt-20 flex flex-col items-center justify-center;

      ul.post-list__items {
        @apply w-3/6 flex flex-col items-start justify-center gap-5 mt-5 p-3 shadow-xl border border-white border-opacity-30 pt-10 pb-7;
        box-shadow: 10px 10px 10px rgba(0, 0, 0, 0.2);

        li.post-list__item {
          z-index: 0;
          @apply relative w-full bg-[--brightWhite] bg-opacity-70 p-5 text-black rounded-md; 

          &.not-found {
            @apply bg-transparent text-[--fadedwhite] text-center;
          }
          textarea {
            @apply bg-transparent text-[#555555] p-2 w-11/12;
          }

          ul.post-list__item__signifiers {
            @apply flex justify-end p-2 absolute text-black text-opacity-60 bg-white bg-opacity-20;
            border-radius: 6px;
            bottom: 10px;
            right: -55px;
            position: absolute;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
            box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.2);

            li {
              position: relative;
              padding: 0.10rem;
              margin: 0;
              ul {
                top: -10px;
                left: 45px;
                z-index: -2;
                width: 250px;
                @apply flex flex-row flex-wrap absolute p-2 text-black text-opacity-60 gap-2 rounded-md;
                animation: slide-signifiers-in 0.5s ease-in-out;

                li {
                  @apply text-shadow;
                  transition: all 0.2s ease-in-out;
                  &:hover {
                    @apply text-white;
                  }
                }
              }
            }
          }
        }
      
        li .post-list__item__options-button {
          @apply absolute top-0 right-0 p-2 text-3xl;
          color: #5f5f5f;
        }

        li .post-list__item__options-menu {
          @apply absolute rounded-sm bg-[#ededed];
          top: -30px;
          right: 50px;
          width: 200px;
          overflow: hidden;
          box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.4);
          animation: slide-down 0.2s ease-in-out;
          z-index: 2;


          li {
            @apply text-sm pl-3 pr-3 pt-2 pb-2;
            transition: all 0.2s ease-in-out;
            
            &.bookmark {
              @apply bg-gray-300;
            }

            &:hover {
              @apply bg-gray-500 text-[--brightWhite];
            }

            ul {
              display: none;
            }
          }
        }
        
      }

      p.post-list__date {
        @apply uppercase tracking-wide text-shadow;
      }

      div.post-list__items__new {
        @apply w-3/6 flex gap-3 pl-2 pr-2 mt-5 text-[#ededed] font-light italic;

        span {
          @apply text-white pr-2 uppercase tracking-wide text-lg;
        }

        button {
          @apply tracking-wide italic pb-2;
          &:after {
            display: block;
            content: " ";
            @apply border-b opacity-50;
            transition: opacity .2s ease-in-out;

          }
          &:hover {
            @apply text-[#ffffff];
            &:after {
              @apply opacity-100;
            }
          }
        }
      }
  }
}

@keyframes slide-down {
  from {
    height: 0;
  }
  to {
    overflow: auto;
    height: 115px;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-signifiers-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.footer {
  @apply absolute bottom-0 left-0 right-0 justify-between items-center text-white z-0;
}